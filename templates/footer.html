</main>
<footer class="site-footer mt-5" role="contentinfo">
  <!-- full-width footer background -->
  <div class="site-footer-bg">
    <div class="container">
  <div class="row align-items-center py-2">
        <div class="col-md-8 links d-flex flex-wrap align-items-center gap-2 small">
          <a href="/terms" class="footer-link">Terms of Service</a>
          <span class="separator">|</span>
          <a href="/privacy" class="footer-link">Privacy Policy</a>
          <span class="separator">|</span>
          <a href="/cookies" class="footer-link">Cookie Policy</a>
          <span class="separator">|</span>
          <a href="/returns" class="footer-link">Return Policy</a>
           <!-- Load Bootstrap JS bundle here so all pages that include the footer get Bootstrap's JS APIs
                (collapse, dropdowns, modals, etc.). This prevents pages like `cart.html` from missing
                the necessary JS when they don't include it themselves. -->
           <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
           <script src="{{ url_for('static', filename='js/theme.js') }}"></script>
        </div>
        <div class="col-md-4 text-md-end d-flex align-items-center justify-content-md-end gap-3">
          <a href="{{ contact_url }}" class="btn btn-outline-primary btn-sm">Contact Us</a>
          <div class="small copyright">Â© 2025-{{ current_year }} BitRealm Games. All rights reserved.</div>
        </div>
      </div>
    </div>
  </div>
</footer>

<style>
  /* Make the page a column flex so footer can sit at the bottom when content is short */
  html, body { height: 100%; }
  body { display: flex; flex-direction: column; min-height: 100vh; }

  /* content area should expand to push footer down */
  .site-content { flex: 1 0 auto; }

  /* Footer spans full width and uses site theme colors; margin-top:auto keeps it at bottom */
  .site-footer { width:100%; margin-top: auto; }
  /* use theme variables so dark mode and custom themes apply consistently */
  .site-footer-bg { background: var(--surface); color: var(--text); border-top: 4px solid var(--primary); padding-top: 0.5rem; padding-bottom: 0.5rem; }
  .site-footer .container { max-width: 1200px; }
  .site-footer .footer-link { color: var(--text); text-decoration: none; margin-right: 0.25rem; font-size: 0.95rem; }
  .site-footer .footer-link:hover { color: var(--accent); text-decoration: underline; }
  .site-footer .separator { color: rgba(0,0,0,0.35); margin: 0 0.25rem; }
  .site-footer .copyright { color: var(--muted); font-size: 0.9rem; }
  @media (max-width: 767px) {
    .site-footer .col-md-4 { margin-top: 0.5rem; justify-content: flex-start !important; }
    .site-footer .text-md-end { text-align: left !important; }
  }
</style>

<!-- Easter eggs modal (used by static/js/easter_eggs.js) -->
<div class="modal fade" id="easterModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Surprise!</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="easterModalBody">
        <div class="easter-message"></div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-sm btn-primary" data-bs-dismiss="modal">Nice</button>
      </div>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='js/easter_eggs.js') }}"></script>

<!-- Service Worker registration for PWA -->
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('/sw.js').then(function(reg) {
        console.log('Service worker registered.', reg);
      }).catch(function(err) {
        console.warn('Service worker registration failed:', err);
      });
    });
  }
</script>
