<!-- Shared head includes: favicon and optional meta/theme -->
{# Use files under static/img/favicon/ â€” your repo stores generated favicons there. #}
<script>
	// Apply stored theme preference early to avoid flash of unthemed content.
	(function(){
		try{
			var theme = null;
			try { theme = localStorage.getItem('theme'); } catch(e){}
			if(!theme){
				var m = document.cookie.match(/(?:^|; )theme=([^;]+)/);
				if(m) theme = decodeURIComponent(m[1]);
			}
			if(theme === 'dark') document.documentElement.classList.add('dark');
			// if 'light' explicitly, ensure dark class not present; 'system' or null = do nothing
			if(theme === 'light') document.documentElement.classList.remove('dark');
		}catch(e){}
	})();
</script>
<!-- Load Bootstrap first so our theme.css can override Bootstrap defaults where needed -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}">
{# Add version query to force browsers to fetch updated favicons when changed #}
<link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='img/logo.svg') }}?v=3">
<link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='img/favicon/desktop-icon-32.png') }}?v=3">
<link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='img/favicon/desktop-icon-16.png') }}?v=3">
<link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon/favicon-v2.ico') }}?v=3">
<link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='img/favicon/desktop-icon-192.png') }}?v=3">
<link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
<meta name="theme-color" content="#00a87e">
<link rel="apple-touch-icon" href="{{ url_for('static', filename='img/icons/icon-192.svg') }}">
